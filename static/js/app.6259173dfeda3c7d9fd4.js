webpackJsonp([1],{Ac4K:function(t,e,n){t.exports=n.p+"static/img/ic_money.ec1e2bb.png"},FXNy:function(t,e){},IU08:function(t,e){},MoLD:function(t,e){t.exports={_args:[["hydrogen-js-sdk@1.7.0","C:\\Web\\Acc_vue"]],_from:"hydrogen-js-sdk@1.7.0",_id:"hydrogen-js-sdk@1.7.0",_inBundle:!1,_integrity:"sha1-lhI8COgI7W+g4LVYWMi8UEXNdIU=",_location:"/hydrogen-js-sdk",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"hydrogen-js-sdk@1.7.0",name:"hydrogen-js-sdk",escapedName:"hydrogen-js-sdk",rawSpec:"1.7.0",saveSpec:null,fetchSpec:"1.7.0"},_requiredBy:["/"],_resolved:"http://registry.npm.taobao.org/hydrogen-js-sdk/download/hydrogen-js-sdk-1.7.0.tgz",_spec:"1.7.0",_where:"C:\\Web\\Acc_vue",author:{name:"Bmob"},bugs:{url:"https://github.com/bmob/hydrogen-js-sdk/issues"},dependencies:{"node.extend":"^2.0.0",webpack:"^3.12.0"},description:"Bmob SDK",devDependencies:{"clean-webpack-plugin":"^0.1.19",eslint:"^4.19.1","eslint-config-standard":"^11.0.0","eslint-friendly-formatter":"^4.0.1","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.12.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.1.0","html-webpack-plugin":"^2.30.1","uglifyjs-webpack-plugin":"^1.2.5","webpack-dev-server":"^2.11.2"},directories:{doc:"docs"},homepage:"https://github.com/bmob/hydrogen-js-sdk#readme",keywords:["Bmob"],license:"ISC",main:"./src/lib/app.js",name:"hydrogen-js-sdk",repository:{type:"git",url:"git+https://github.com/bmob/hydrogen-js-sdk.git"},scripts:{build:"webpack --config config/prod.env.js",dev:"webpack-dev-server --config config/dev.env.js",test:'echo "Error: no test specified" && exit 1',watch:"webpack --watch --config config/prod.env.js"},version:"1.7.0"}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("lRwf"),s=n.n(i),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},a,!1,function(t){n("IU08")},null,null).exports,r=n("pRNm"),l=n.n(r),c={name:"accumulate",data:function(){return{activeIndex:"打卡"}},methods:{handleSelect:function(t){switch(console.log("headMenuName:"+t),t){case"打卡":case"图片":this.$router.push("/acc")}}},watch:{$route:function(){console.log("route改变了"),console.log(this.$route)}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"frame",attrs:{id:"app"}},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":this.activeIndex,mode:"horizontal"},on:{select:this.handleSelect}},[e("el-menu-item",{attrs:{index:"打卡"}},[this._v("打卡")]),this._v(" "),e("el-menu-item",{attrs:{index:"图片"}},[this._v("图片")])],1),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var d=n("VU/8")(c,u,!1,function(t){n("FXNy")},null,null).exports,m={name:"Menu",data:function(){return{timeCal:null,currentKey:-1,currentItem:{title:"",money:0},allTime:0,loading:!1,allMoney:0,allIn:0,allOut:0,monthIn:0,dayIn:0,list:[{title:"写代码",money:2.5},{title:"学习",money:2.5}],hisList:[],page:0,size:100,total:0}},created:function(){},mounted:function(){null!=this.timeCal&&clearInterval(this.timeCal),this.refresh()},computed:{timeStr:function(){var t=this.allTime,e=t%60,n=parseInt(t/60%60),i=parseInt(t/3600);return this.allTime%1800==0&&this.allTime>0&&(console.log("过了半小时了"),this.addAcc()),i+":"+n+":"+e},moneyStr:function(){var t=this.allTime/60,e=0;return 0!=this.currentItem.money&&(e=this.currentItem.money/30),(t*e).toFixed(2)},timeList:function(){for(var t=parseInt(this.allTime/60/30),e=[],n=0;n<t;n++)e.push({time:100});var i=this.allTime/60%30;console.log(i);var s=i/30;return console.log(s),e.push({time:(100*s).toFixed(2)}),e}},methods:{getList:function(){var t=this,e=Bmob.Query("AccHistoryBean");e.limit(this.size),e.order("-createdAt"),e.find().then(function(e){console.log(e),t.hisList=e})},addAcc:function(){var t=this.currentItem.money,e=this.currentItem.title,n=this,i=Bmob.Query("AccHistoryBean");i.set("name",e),i.set("money",t),i.save().then(function(t){console.log("保存成功"),console.log(t),n.refresh()}).catch(function(t){console.log(t)})},handleStart:function(t,e){this.allTime=0,this.currentKey=t,this.currentItem=e,this.startCal()},handleEnd:function(){this.allTime=0,this.currentKey=-1,this.currentItem={},this.refresh(),clearInterval(this.timeCal)},startCal:function(){var t=this;this.timeCal=setInterval(function(){t.allTime+=1},1e3)},refresh:function(){this.getCalDate(),this.getList()},getCalDate:function(){var t=this;this.loading=!0;var e=Bmob.Query("AccHistoryBean");e.statTo("sum","money"),e.find().then(function(e){console.log(e);var n=e[0];t.allIn=null==n?0:n._sumMoney,t.allMoney=t.allIn-t.allOut,t.loading=!1});var n=Bmob.Query("GoalHisBean");n.statTo("sum","money"),n.find().then(function(e){var n=e[0];t.allOut=null==n?0:n._sumMoney,t.allMoney=t.allIn-t.allOut});var i=Bmob.Query("AccHistoryBean");i.statTo("sum","money");var s=new Date,a=s.getMonth()+1,o="";o=1==(a+"").length?"0"+a:""+a;var r=s.getFullYear()+"-"+o+"-01 00:00:00";console.log(r),i.equalTo("createdAt",">",r),i.find().then(function(e){var n=e[0];t.monthIn=null==n?0:n._sumMoney});var l=Bmob.Query("AccHistoryBean");l.statTo("sum","money"),o="",o=1==((a=(s=new Date).getMonth()+1)+"").length?"0"+a:""+a;var c=s.getDate(),u="";u=1==(c+"").length?"0"+c:""+c,r=s.getFullYear()+"-"+o+"-"+u+" 00:00:00",console.log(r),l.equalTo("createdAt",">",r),l.find().then(function(e){var n=e[0];t.dayIn=null==n?0:n._sumMoney})}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content"},[i("div",{staticClass:"left"},[i("i",{staticClass:"el-icon-refresh",staticStyle:{"margin-top":"10px","margin-bottom":"10px","font-size":"30px","text-align":"right",flex:"1",float:"right",color:"white",cursor:"pointer"},on:{click:t.refresh}}),t._v(" "),i("p",{staticClass:"money_all"},[i("img",{staticClass:"money_icon",attrs:{src:n("Ac4K")}}),t._v(t._s(t.allMoney.toFixed(2))+"\n    ")]),t._v(" "),i("div",{staticClass:"count_container"},[i("p",{staticClass:"count_text right_split count_in"},[t._v("+ "+t._s(t.allIn.toFixed(2)))]),t._v(" "),i("p",{staticClass:"count_text count_out"},[t._v("- "+t._s(t.allOut.toFixed(2)))])]),t._v(" "),i("div",{staticClass:"count_container"},[i("p",{staticClass:"count_text right_split count_in"},[t._v("+ "+t._s(t.monthIn.toFixed(2)))]),t._v(" "),i("p",{staticClass:"count_text count_in"},[t._v("+ "+t._s(t.dayIn.toFixed(2)))])]),t._v(" "),t._l(t.list,function(e,n){return i("Card",{key:n,staticStyle:{margin:"10px",padding:"0"},attrs:{bordered:!1}},[i("div",{staticStyle:{display:"flex"}},[i("div",[i("p",[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"count_in"},[t._v("半小时 "+t._s(e.money))])]),t._v(" "),i("div",{staticStyle:{flex:"1"}}),t._v(" "),t.currentKey!=n?i("el-button",{attrs:{type:"success"},on:{click:function(i){return t.handleStart(n,e)}}},[t._v("开始")]):t._e(),t._v(" "),t.currentKey==n?i("el-button",{attrs:{type:"danger"},on:{click:t.handleEnd}},[t._v("结束")]):t._e()],1)])})],2),t._v(" "),i("div",{staticClass:"list_content"},[i("Card",{staticStyle:{width:"100%",height:"100%","overflow-y":"scroll"}},[i("div",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.hisList}},[i("el-table-column",{attrs:{prop:"name",label:"名称",width:"160"}}),t._v(" "),i("el-table-column",{attrs:{prop:"money",label:"金额",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{width:"160",prop:"createdAt",label:"时间"}})],1)],1)])],1),t._v(" "),i("div",{staticClass:"time_content"},[i("Card",{staticStyle:{width:"100%",height:"100%"}},[i("p",{staticClass:"time_text"},[t._v(t._s(t.timeStr))]),t._v(" "),i("p",{staticClass:"money_text count_in"},[t._v("+ "+t._s(t.moneyStr))]),t._v(" "),i("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.timeList,function(t,e){return i("div",[i("el-progress",{staticStyle:{margin:"15px"},attrs:{width:80,type:"circle",percentage:t.time}})],1)}),0)])],1)])},staticRenderFns:[]};var p=n("VU/8")(m,h,!1,function(t){n("m7rO")},"data-v-0c848d6e",null).exports;s.a.use(l.a);var v=new l.a({routes:[{path:"/",name:"Home",component:d,children:[{path:"/acc",component:p}]}]}),g=n("ogWm"),_=n.n(g);s.a.config.productionTip=!1,_.a.initialize("a635b131ea9961e1aa69084a5781c028","66539b836e9073d839b7b5c0019c3951"),s.a.prototype.Bmob=_.a,new s.a({el:"#app",router:v,components:{App:o},template:"<App/>"})},lRwf:function(t,e){t.exports=Vue},m7rO:function(t,e){},pRNm:function(t,e){t.exports=VueRouter}},["NHnr"]);